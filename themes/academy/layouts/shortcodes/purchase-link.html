{{- if and (ge (now.Format "20060102") 20190401) (le (now.Format "20060102") 20190509) -}}

{{- $data := getJSON $.Site.Params.api -}}
{{- $apiPrices := index $data "prices" -}}
{{- .Scratch.Set "apiPrice" "" -}}
{{- if isset $apiPrices "academy" -}}
	{{- .Scratch.Set "apiPrice" $apiPrices.academy.price -}}
{{- end -}}

{{- $ctas := index $data "ctas" -}}
{{- .Scratch.Set "cta" "" -}}
{{- if isset $ctas "academyBuy" -}}
	{{ .Scratch.Set "cta" ($ctas.academyBuy | safeHTML) }}
{{- end -}}

<p>Kick-start your journey to JavaScript mastery. You get...</p>

<ul>
	<li>10 weeks of focused lessons made for beginners</li>
	<li>34 amazing JavaScript projects</li>
	<li>70+ lessons</li>
	<li>Video office hours</li>
	<li>Exclusive Slack access</li>
</ul>

{{- .Scratch.Get "cta" -}}

<p><strong>The next session runs from May 6 to June 28.</strong> After joining, you'll get an email with the details.</p>

<p><a class="btn btn-large btn-block edd-buy-now-button" href="https://gomakethings.com/checkout?edd_action=add_to_cart&download_id=28868&edd_options[price_id]=4">Join now for just {{ if ne (.Scratch.Get "apiPrice") "" }}{{ .Scratch.Get "apiPrice" | safeHTML }}{{ else }}{{ $.Site.Params.price | safeHTML }}{{ end }}</a></p>

{{- else -}}

<p><strong>A brand new Vanilla JS Academy returns on October 14.</strong></p>

<p>Registration opens in the next week or two, but you can be the first to find out when registration opens back up <em>and</em> get exclusive discounts. Enter your email&nbsp;below.</p>

{{ partial "mailchimp-form.html" }}

{{- end -}}

{{- if false -}}
<h3>The Vanilla JS Academy returns on May 6.</h3>
<p>Registration opens on April 1. Get notified the moment it does <em>and</em> get exclusive discounts. Enter your email&nbsp;below.</p>
{{- end -}}